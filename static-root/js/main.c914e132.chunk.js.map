{"version":3,"sources":["posts/bedata.js","posts/comment.js","posts/components.js","posts/detail.js","App.js","reportWebVitals.js","index.js"],"names":["BeData","method","url","callback","data","jsonData","JSON","stringify","xhr","XMLHttpRequest","responseType","open","setRequestHeader","onload","status","response","console","log","onerror","e","send","ListOfPosts","useState","postList","setPostList","nextUrl","setNextUrl","useEffect","next","results","Fragment","map","item","FormatPost","post","detail","id","className","onClick","newPosts","concat","alert","SendComment","props","commentText","setCommentText","sortType","setSortType","comments","setCmnts","handleSort","event","target","value","handleDeleteComment","role","type","name","onChange","checked","for","user","text","comment_date","my_comment","onSubmit","evt","preventDefault","resize","style","weight","placeholder","required","maxLength","window","location","href","title","category","src","image_url","height","width","alt","NormBtn","author","pub_date","comments_quantity","upvotes","setUpvotes","downvotes","setDownvotes","rating","rate","setRate","vote","didclickUp","setDidclickUp","didclickDown","setDidclickDown","BtnUpStyle","BtnDownStyle","RateVal","action","vote_type","ChangeRate","BackBtn","history","back","ScrollToTop","isVisible","setIsVisible","toggleVisibility","pageYOffset","addEventListener","position","top","marginLeft","scrollTo","behavior","xmlns","fill","class","viewBox","d","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","wallElement","document","getElementById","ReactDOM","render","React","createElement","postElement","postid","postIsLoad","setPostIsLoad","dataset"],"mappings":"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","file":"static/js/main.c914e132.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {FormatPost} from './components';\n\nexport function BeData(method, url, callback, data) {\n  var jsonData\n  if (data) {\n    jsonData = JSON.stringify(data)\n  }\n  const xhr = new XMLHttpRequest()\n  xhr.responseType = 'json'\n  xhr.open(method, url)\n  xhr.setRequestHeader(\"Content-Type\", \"application/json\")\n  \n  \n  xhr.onload = function() {\n    if (xhr.status === 200 || xhr.status === 201) {\n      callback(xhr.response, xhr.status)\n    } else {\n      console.log('some error', xhr.status, xhr.response)\n    }\n  }\n  xhr.onerror = function (e) {\n    callback({\"message\": \"Error\"}, 400)\n  }\n  xhr.send(jsonData)\n}\n\n\nexport function ListOfPosts() {\n  var [postList, setPostList] = useState([])\n  var [nextUrl, setNextUrl] = useState(null)\n  console.log(postList)\n  useEffect(() => {\n    function WallList(response, status) {\n      setNextUrl(response.next)\n      setPostList(response.results)\n    }\n    BeData('GET', 'http://localhost:8000/api/posts', WallList)\n  }, [])\n  function NewPartOfPosts() {\n    if (nextUrl !== null) {\n      function PartOfPosts(response, status) {\n        if (status === 200) {\n        setNextUrl(response.next)\n        const newPosts = [...postList].concat(response.results)\n        setPostList(newPosts)}\n        else{\n          alert(\"Ошибка при загрузке\")\n        }\n      }\n    \n      BeData(\"GET\", nextUrl, PartOfPosts)\n    }\n\n    }\n    return <React.Fragment>{ postList.map((item)=>{\n      return <FormatPost post={item} detail = {false} key={item.id}/>\n  })}\n  {nextUrl !== null && <button className=\"btn btn-primary\" onClick={NewPartOfPosts}>Загрузить еще</button>}</React.Fragment>}\n  \n  \n\n//\n//\n//\n//import React, {useEffect, useState} from 'react'\n//import {FormatPost} from './components';\n//export function ListOfPosts(props){\n//  const {url} = props\n//  var [post_list, set_post_list] = useState([]);\n//  useEffect(() => {\n//  const xhr = new XMLHttpRequest()\n//  xhr.responseType = 'json'\n//  xhr.open('GET', url)\n//  xhr.onload = function() {\n//    if (xhr.status === 200) {\n//      console.log (xhr.response, xhr.status)\n//      set_post_list(xhr.response)\n//    }else{\n//      console.log('sorry')\n//    }\n//  }\n//  xhr.send()\n//  }, [url])\n//  \n//  return post_list.map((item, index)=>{\n//    return <FormatPost post={item} key={item.id}/>\n//  })\n//     \n//    \n// }\n//","import React, { useEffect, useState } from \"react\";\nimport { BeData } from \"./bedata\"\n\n\nexport function SendComment(props) {\n  const {post} = props\n  const [commentText, setCommentText] = useState(\"\");\n  const [sortType, setSortType] = useState('newest')\n  var data = {}\n  var [comments, setCmnts] = useState([post.comments])\n  //console.log('sortType is', sortType)\n  useEffect (() => {\n    setCmnts(post.comments)\n    console.log('on hook ', sortType)\n  },[setCmnts, post.comments, sortType])\n  \n  function callback (response, status) {\n    if (status===201 || status===200) {\n      setCmnts(response.comments)\n    }\n    else { console.log(status, \"Ошибка\")\n    }\n  }\n  function handleSubmit (evt) {\n      evt.preventDefault();\n      data={post: post.id, text: commentText, sortType: sortType}\n      BeData(\"POST\", \"http://localhost:8000/api/posts/send_comment\", callback, data)\n      //console.log(data)\n      setCommentText(\"\")\n      //console.log(sortType)\n      //console.log(props)\n  }\n\n  function handleSort(event) {\n    //event.preventDefault()\n    setSortType(event.target.value)\n    console.log('btn value is ',event.target.value)\n    console.log('sortType is ', sortType)\n    BeData(\"POST\", `http://localhost:8000/api/posts/${post.id}/sort`, callback, {sortType: event.target.value})\n  }\n\n\n  function handleDeleteComment(event) {   \n    console.log(event.target.value)\n    alert(\"точно удалить?\")\n    BeData(\"DELETE\", `http://localhost:8000/api/posts/${post.id}/${event.target.value}`, callback, {sortType: sortType})\n  }\n\n  return (<React.Fragment>\n      <div className=\"btn-group\" role=\"group\" aria-label=\"Basic radio toggle button group\">\n        <input type=\"radio\" className=\"btn-check\" name=\"btnradio\" id=\"btnradio1\" value='newest' onChange={handleSort} checked={sortType==='newest'}></input>\n        <label className=\"btn btn-outline-primary\" for=\"btnradio1\">Сначала новые</label>\n        <input type=\"radio\" className=\"btn-check\" name=\"btnradio\" id=\"btnradio2\" value='old' onChange={handleSort} checked={sortType==='old'}></input>\n        <label className=\"btn btn-outline-primary\" for=\"btnradio2\">Сначала старые</label>\n      </div>\n     <div>\n     { comments.map((item) => {\n       return <React.Fragment key={item.id}>\n       <div>{item.user}</div>\n      <div>{item.text}</div>\n      <div>{item.comment_date}</div>\n      {item.my_comment\n      ? <button className=\"btn btn-danger\" value={item.id} onClick={handleDeleteComment}>удалить</button>\n      : null}\n      </React.Fragment>})}\n       </div>\n       <form onSubmit={handleSubmit}>\n       <textarea\n        className=\"form-control\"    \n        resize=\"none\"\n        style={{weight: '100%', resize:\"none\"}}\n        placeholder=\"Оставьте комментарий здесь\" \n        id=\"floatingTextarea2\"\n        value={commentText}\n        onChange={e => setCommentText(e.target.value)}\n        required={true}\n        maxLength='100'\n        ></textarea>\n     <button type='submit' className=\"btn btn-success\" >Отправить</button>\n     </form></React.Fragment>)  \n}","import React, { useState } from 'react'\nimport { SendComment } from './comment'\n// Функция для стилизации поста\nexport function FormatPost(props) {\n  const {post, detail} = props\n  function DetailLink() {\n    window.location.href = `/${post.id}/`\n  }\n  \n  console.log(post)\n  return <React.Fragment>\n    <div className=\"container my-5 w-50 border border-dark\">\n    {detail === false\n    ? <header className=\"h2\" onClick={DetailLink}>{post.title}</header>\n    : <header className=\"h2\">{post.title}</header>\n    }\n    <div>Категория: {post.category}</div>\n    <div className=\"text-center\"><img src={post.image_url} height=\"60%\" width=\"60%\" alt={post.title}></img></div>\n        <NormBtn post={post}/>\n    <div>{detail === true ? <div>asdasd</div> : ''}</div>\n    <footer>\n      <div>Автор: {post.author}</div>\n      <div>Дата публикации: {post.pub_date}</div>\n      <div>Комментарии: {post.comments_quantity}</div>\n    </footer>\n    <div>\n    {detail === true\n    ? <SendComment post = {post} key={post.id} />\n    : <div>{post.comments_quantity}</div>\n  }\n    </div>\n  </div>\n  \n  </React.Fragment>\n}\n\n\n//Кнопки для голосов\nexport function NormBtn(props) {\n  const {post} = props\n  var [upvotes, setUpvotes] = useState(post.upvotes)\n  var [downvotes, setDownvotes] = useState(post.downvotes)\n  var [rate, setRate] = useState(post.rating)\n  var [didclickUp, setDidclickUp] = useState(post.vote === \"UP\" ? true : false)\n  var [didclickDown, setDidclickDown] = useState(post.vote === \"DOWN\" ? true : false)\n  var BtnUpStyle = didclickUp === false ? \"btn btn-outline-primary\" : \"btn btn-primary\"\n  var BtnDownStyle = didclickDown === false ? \"btn btn-outline-danger\" : \"btn btn-danger\"\n  function RateVal (action) {\n    const data = JSON.stringify({id: post.id, vote_type: action})\n    const xhr = new XMLHttpRequest()\n    xhr.responseType = 'json'\n    xhr.open('POST', 'http://localhost:8000/api/post/rate/')\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\")\n   //const csrftoken = getCookie('csrftoken');\n   // if (csrftoken){\n   //   // xhr.setRequestHeader(\"HTTP_X_REQUESTED_WITH\", \"XMLHttpRequest\")\n   //   xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\")\n   //   xhr.setRequestHeader(\"X-CSRFToken\", csrftoken)\n   // }\n    if (action === 'upvote') {\n    xhr.onload = function(ChangeRate) {\n      if (xhr.status === 200) {\n        console.log (xhr.response, xhr.status, xhr.response.rating)\n        setDidclickUp(true)\n        setRate(xhr.response.rating)\n        setUpvotes(xhr.response.upvotes)\n        setDidclickDown(false)\n        setDownvotes(xhr.response.downvotes)  \n         \n      }else{\n          console.log('sorry')        \n      }\n    }\n    xhr.send(data)\n  }else if (action === 'downvote'){\n    xhr.onload = function(ChangeRate) {\n      if (xhr.status === 200) {\n        console.log (xhr.response, xhr.status, xhr.response.rating)\n        setDidclickDown(true)\n        setRate(xhr.response.rating)\n        setUpvotes(xhr.response.upvotes) \n        setDidclickUp(false) \n        setDownvotes(xhr.response.downvotes)    \n      }else{\n          console.log('sorry')        \n      }\n    }\n    xhr.send(data)\n  }else if (action === 'delupvote'){\n    xhr.onload = function(ChangeRate) {\n      if (xhr.status === 200) {\n        console.log (xhr.response, xhr.status, xhr.response.rating)\n        setDidclickUp(false)\n        setRate(xhr.response.rating)\n        setUpvotes(xhr.response.upvotes) \n        setDownvotes(xhr.response.downvotes)      \n      }else{\n          console.log('sorry')        \n      }\n    }\n    xhr.send(data)\n  }else if (action === 'deldownvote'){\n    xhr.onload = function(ChangeRate) {\n      if (xhr.status === 200) {\n        console.log (xhr.response, xhr.status, xhr.response.rating)\n        setDidclickDown(false)\n        setRate(xhr.response.rating)\n        setDownvotes(xhr.response.downvotes)   \n        setUpvotes(xhr.response.upvotes)  \n      }else{\n          console.log('sorry')        \n      }\n    }\n    xhr.send(data)\n  }\n  }\n  return (<React.Fragment>\n    {rate}\n    <button className={BtnUpStyle} onClick={() => \n      didclickUp === false ? RateVal('upvote') : RateVal('delupvote') }>{upvotes} Апвоут</button>\n    <button className={BtnDownStyle} onClick={() => \n      didclickDown === false ? RateVal('downvote') : RateVal('deldownvote') }>{downvotes} Даунвоут</button>\n    </React.Fragment>\n  )\n}\n","import React, {useEffect, useState} from \"react\";\nimport { BeData } from \"./bedata\";\nimport {FormatPost} from \"./components\";\n\n\nexport function DetailPost(props) {\n    const {postid} = props\n    console.log(postid)\n    var [postList, setPostList] = useState([])\n    var [postIsLoad, setPostIsLoad] = useState(false)\n  useEffect(() => {\n    function WallList(response, status) {\n      setPostList(response)\n      setPostIsLoad(true)\n    }\n    BeData('GET', `http://localhost:8000/api/posts/${postid}`, WallList)\n  }, [postid])   \n    return  <React.Fragment>{postIsLoad ?\n    <>\n    <ScrollToTop />\n    <button className=\"btn btn-primary\" onClick={BackBtn}>Назад</button>\n    <FormatPost post={postList} detail={true} key={postList.id} /></>\n    : null} </React.Fragment>\n}\n\n\n\nfunction BackBtn () {\n  window.history.back()\n}\n\n\nfunction ScrollToTop() {\n  const [isVisible, setIsVisible] = useState(false);\n  // Show button when page is scorlled upto given distance\n  function toggleVisibility() {\n    if (window.pageYOffset > 300) {\n      setIsVisible(true);\n    } else {\n      setIsVisible(false);\n    }\n  };\n  // Set the top cordinate to 0\n  // make scrolling smooth\n  function scrollToTop() {\n    window.scrollTo({\n      top: 0,\n      behavior: \"smooth\"\n    });\n  };\n  useEffect(() => {\n    window.addEventListener(\"scroll\", toggleVisibility);\n  }, []);\n  return (\n    <div className=\"bi bi-arrow-up-square-fill\" style={{position: 'sticky', top: \"10%\", marginLeft: '80%'}}>\n      {isVisible && \n        <button className=\"btn btn-outline-info\"onClick={scrollToTop}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" fill=\"currentColor\" class=\"bi bi-arrow-up-square-fill\" viewBox=\"0 -2 20 20\">\n        <path d=\"M2 16a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2zm6.5-4.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 1 0z\"/>\n      </svg>\n           Наверх</button>}\n    </div>\n  );\n}\n\n","import React from 'react';\n//import logo from './logo.svg';\n//import './App.css';\n\nimport { ListOfPosts } from './posts'\n\n\n\n\nfunction App() {\n    \n  return (\n    <div className=\"App\">\n      <ListOfPosts />\n      \n    </div>)\n  \n\n}\nexport default App;\n//\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport reportWebVitals from './reportWebVitals';\nimport { DetailPost } from './posts';\n\n\n//const element = <Welcome name=\"Алиса\" />;\n//Когда React встречает подобный элемент, \n//он собирает все JSX-атрибуты и дочерние элементы в один объект \n//и передаёт их нашему компоненту. Этот объект называется «пропсы» (props).\nconst wallElement = document.getElementById('root')\nif (wallElement) {\n  ReactDOM.render(<App />, wallElement)\n}\n\nconst e = React.createElement\nconst postElement = document.getElementById('detail')\nif (postElement) {\n  ReactDOM.render(\n    e(DetailPost, postElement.dataset), postElement\n  )\n}\n\n\n\n\n\n\n//  ReactDOM.render(\n//    <React.StrictMode>\n//    <App />\n//    </React.StrictMode>,\n//    document.getElementById('root') //корневой узел ДОМ\n//  )\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}